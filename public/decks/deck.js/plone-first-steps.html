<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
        <meta name="viewport" content="width=1024, user-scalable=no">

        <title>Primeiros passos com Plone</title>

        <!-- Required stylesheet -->
        <link rel="stylesheet" href="core/deck.core.css">

        <!-- Extension CSS files go here. Remove or add as needed. -->
        <link rel="stylesheet" href="extensions/goto/deck.goto.css">
        <link rel="stylesheet" href="extensions/menu/deck.menu.css">
        <link rel="stylesheet" href="extensions/navigation/deck.navigation.css">
        <link rel="stylesheet" href="extensions/status/deck.status.css">
        <link rel="stylesheet" href="extensions/hash/deck.hash.css">
        <link rel="stylesheet" href="extensions/scale/deck.scale.css">

        <!-- Style theme Plone. -->
        <link rel="stylesheet" href="themes/style/plone.css">

        <!-- Highlight.js -->
        <link rel="stylesheet" href="/css/highlightjs/idea.css">

        <!-- Transition theme. More available in /themes/transition/ or create your own. -->
        <link rel="stylesheet" href="themes/transition/horizontal-slide.css">
    </head>
    <body class="deck-container">

        <!-- Begin slides. Just make elements with a class of slide. -->

        <section class="slide">
            <h1><img src="https://raw.github.com/felipeduardo/plone-slides/master/public/img/plone-logo-192.png"
                     class="main-logo"
                     alt="Logomarca do Plone - Três circulos da cor azul envolvidos por um circulo maior de borda azul" /></h1>
        </section>


        <section class="slide">
            <div class="center">
                <h1>Primeiros passos com Plone</h1>
                <h2></h2>
                <p>by Rodrigo Ferreira de Souza <br/>
                    <a href="http://twitter.com/rodfersou"
                       class="twitter-follow-button"
                       data-show-count="false"
                       data-size="large">Seguir @rodfersou</a>
                    <br/>
                    rodfersou@gmail.com</p>
            </div>
            <script>!function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0];if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src="//platform.twitter.com/widgets.js";fjs.parentNode.insertBefore(js,fjs);}}(document,"script","twitter-wjs");</script>
        </section>


        <section class="slide">
            <h2 class="logo-plone-64">Plone</h2>
            <h2 class="center">Programação</h2>
            <ul>
                <li><h3>Instação Plone / Linux</h3></li>
                <li><h3>Configuração do Ambiente</h3></li>
                <li><h3>Busca e catálogo</h3></li>
                <li><h3>Coleções</h3></li>
            </ul>
        </section>


        <section class="slide">
            <h2 class="logo-plone-64">Plone</h2>
            <h2 class="center">Atividade</h2>
            <ul>
                <li class="slide">
                    <h3>Os alunos que não puderem comparecer a aula no dia 13/07 por motivo de férias devem executar os seguintes passos do slide como atividade.</h3>
                    <ul>
                        <li><h3>Instação Plone / Linux</h3></li>
                        <li><h3>Configuração do Ambiente</h3></li>
                    </ul>
                </li>
                <li class="slide">
                    <h3>Sendo que os assuntos abaixo serão retomados na aula do dia 03/08</h3>
                    <ul>
                        <li><h3>Busca e catálogo</h3></li>
                        <li><h3>Coleções</h3></li>
                    </ul>
                </li>
            </ul>
        </section>


        <section class="slide">
            <h2 class="logo-plone-64">Plone</h2>
            <h2 class="center">Instalação Plone / Linux</h2>
            <h3>Existem várias formas de instalar o Plone, e a forma mais simples com certeza é utilizar o unified installer.  Porém, como alertado por Mikko Ohtamaa <a href="http://www.youtube.com/watch?v=CJK4luTCFNM" target="_blank">neste vídeo</a>, desenvolvedores Sênior que utilizam o Plone:</h3>
            <ul>
                <li class="slide">
                    <h3><em>Não utilizam unified installer</em></h3>
                </li>
                <li class="slide">
                    <h3><em>Não utilizam ZopeSkel</em></h3>
                </li>
                <li class="slide">
                    <h3><em>Não utilizam as receitas padrões recomendadas de uso do Plone</em></h3>
                </li>
                <li class="slide">
                    <h3><em>Não utilizam Microsoft Windows</em></h3>
                </li>
            </ul>
            <h3 class="slide">Desenvolvedores Sênior do Plone melhoram aos poucos com sua experiência os buildouts padrões, e criam seu próprio sabor de Plone baseado na versão oficial.</h3>
        </section>


        <section class="slide">
            <h2 class="logo-plone-64">Plone</h2>
            <h2 class="center">Instalando Python através do código fonte</h2>
            <h3 class="slide">Eventualmente é necessário rodar uma versão anterior do Plone para alguma atividade de manutenção de sites existente</h3>
            <h3 class="slide">Ou ainda, pode ser necessário uma versão mais nova do Plone em um servidor antigo.</h3>
            <h3 class="slide">Nesses dois casos é necessário instalar uma nova versão do Python no computador.</h3>
        </section>


        <section class="slide">
            <h2 class="logo-plone-64">Plone</h2>
            <h2 class="center">Instalando Python através do código fonte</h2>
            <ul>
                <li class="slide">
                    <h3>Abra um terminal.</h3>
                </li>
                <li class="slide">
                    <h3>Instale as dependências para compilação do Python (no nosso caso a versão que estava instalada no sistema operacional é 2.7, mas isso pode alterar)</h3>
                    <pre><code class="bash">$ sudo apt-get -y build-dep python2.7</code></pre>
                    <pre><code class="bash">$ sudo apt-get -y install libfreetype6-dev libjpeg62-dev liblcms1-dev libpng12-dev libreadline-dev libxml2-dev libyaml-dev zlib1g-dev</code></pre>
                </li>
            </ul>
        </section>


        <section class="slide">
            <h2 class="logo-plone-64">Plone</h2>
            <h2 class="center">Instalando Python através do código fonte</h2>
            <h3>Realize o download dos pacotes a seguir:</h3>
            <ul>
                <li><h3><a href="http://sourceforge.net/projects/freetype/files/freetype2/2.4.10/freetype-2.4.10.tar.gz/download" target="_blank">FreeType 2.4.10</a>.</h3></li>
                <li><h3><a href="http://zlib.net/zlib-1.2.7.tar.gz" target="_blank">Zlib 1.2.7</a>.</h3></li>
                <li><h3><a href="http://www.openssl.org/source/openssl-1.0.1c.tar.gz" target="_blank">OpenSSL 1.0.1c</a>.</h3></li>
                <li><h3><a href="http://www.python.org/ftp/python/2.6.6/Python-2.6.6.tgz" target="_blank">Python 2.6.6</a>.</h3></li>
            </ul>
        </section>


        <section class="slide">
            <h2 class="logo-plone-64">Plone</h2>
            <h2 class="center">Instalando Python através do código fonte</h2>
            <ul>
                <li class="slide">
                    <h3>Compilar FreeType:</h3>
                    <pre><code class="bash">$ tar -zxvf freetype-2.4.10.tar.gz
$ cd freetype-2.4.10
$ ./configure --prefix=/usr
$ make
$ sudo make install
$ cd ..</code></pre>
                </li>
                <li class="slide">
                    <h3>Compilar Zlib:</h3>
                    <pre><code class="bash">$ tar -zxvf zlib-1.2.7.tar.gz
$ cd zlib-1.2.7
$ ./configure --prefix=/usr
$ make
$ sudo make install
$ cd ..</code></pre>
                </li>
            </ul>
        </section>


        <section class="slide">
            <h2 class="logo-plone-64">Plone</h2>
            <h2 class="center">Instalando Python através do código fonte</h2>
            <ul>
                <li class="slide">
                    <h3>Compilar OpenSSL:</h3>
                    <pre><code class="bash">$ tar -zxvf openssl-1.0.1c.tar.gz
$ cd openssl-1.0.1c
$ ./config --prefix=/usr
$ make
$ sudo make install
$ cd ..</code></pre>
                </li>
            </ul>
        </section>


        <section class="slide">
            <h2 class="logo-plone-64">Plone</h2>
            <h2 class="center">Instalando Python através do código fonte</h2>
            <ul>
                <li class="slide">
                    <h3>Compilar Python:</h3>
                    <pre><code class="bash">$ tar -zxvf Python-2.6.6.tgz
$ cd Python-2.6.6
$ wget https://raw.github.com/saghul/pythonz/master/pythonz/patches/all/python26/patch-nosslv2.diff
$ patch -p0 < patch-nosslv2.diff
$ ./configure --prefix=/usr
$ make
$ sudo make altinstall
$ cd ..</code></pre>
                </li>
                <li class="slide">
                    <h3>Para testar o ambiente, entre no interpretador do Python:</h3>
                    <pre><code class="bash">$ python2.6</code></pre>
                </li>
                <li class="slide">
                    <h3>E execute os comandos:</h3>
                    <pre><code class="python">>>> import ssl
>>> import zlib
>>> from hashlib import md5
>>> exit()</code></pre>
                </li>
            </ul>
        </section>


        <section class="slide">
            <h2 class="logo-plone-64">Plone</h2>
            <h2 class="center">Configurando ambiente virtual (virtualenv)</h2>
            <h3>Sempre que for criar um ambiente de desenvolvimento Python é recomendado criar um ambiente virtual separado para cada projeto. Dessa forma, conseguimos evitar conflitos entre diversos ambientes de desenvolvimento.</h3>
        </section>


        <section class="slide">
            <h2 class="logo-plone-64">Plone</h2>
            <h2 class="center">Configurando ambiente virtual (virtualenv)</h2>
            <ul>
                <li class="slide">
                    <h3>Instalar VirtualEnv</h3>
                    <pre><code class="bash">$ sudo apt-get install python-virtualenv</code></pre>
                </li>
                <li class="slide">
                    <h3>Criar ambiente virtual</h3>
                    <pre><code class="bash">$ virtualenv -p python2.6 --no-site-packages ~/py26</code></pre>
                </li>
            </ul>
        </section>


        <section class="slide">
            <h2 class="logo-plone-64">Plone</h2>
            <h2 class="center">Configurando ambiente virtual (virtualenv)</h2>
            <ul>
                <li>
                    <h3>Observe que no comando do virtualenv, são passados alguns parâmetros, entre eles:</h3>
                    <ul>
                        <li><h3>-p <em>Indica qual versão do Python deve ser utilizada por padrão no ambiente virtual.</em></h3></li>
                        <li><h3>--no-site-packages <em>Esta opção indica que o virtualenv deve ignorar o ambiente global do python e enxergar somente seu ambiente virtual.</em></h3></li>
                    </ul>
                </li>
            </ul>
        </section>


        <section class="slide">
            <h2 class="logo-plone-64">Plone</h2>
            <h2 class="center">Configurando ambiente virtual (virtualenv)</h2>
            <ul>
                <li class="slide">
                    <h3>Ativando ambiente virtual</h3>
                    <pre><code class="bash">$ source ~/py26/bin/activate</code></pre>
                </li>
                <li class="slide">
                    <h3>Desativando ambiente virtual</h3>
                    <pre><code class="bash">(py26)$ deactivate</code></pre>
                </li>
            </ul>
        </section>


        <section class="slide">
            <h2 class="logo-plone-64">Plone</h2>
            <h2 class="center">Configurando SSH/GIT</h2>
            <h3>Nos projetos Plone, normalmente é utilizado o controlador de versões GIT, hospedando os fontes no github.com.</h3>
            <h3>Para configurar o ambiente para utilizar essa estrutura, é necessário criar uma chave RSA, cadastrar essa chave no Github, e clonar os projetos para seu computador.</h3>
        </section>


        <section class="slide">
            <h2 class="logo-plone-64">Plone</h2>
            <h2 class="center">Configurando SSH/GIT</h2>
            <ul>
                <li class="slide">
                    <h3>Criar chave RSA</h3>
                    <pre><code class="bash">$ ssh-keygen -t rsa -f ~/.ssh/id_rsa</code></pre>
                </li>
                <li class="slide">
                    <h3>Logo após esse comando, será solicitado uma frase chave. Normalmente essa frase não é informada, tecle enter 2 vezes.</h3>
                </li>
            </ul>
        </section>


        <section class="slide">
            <h2 class="logo-plone-64">Plone</h2>
            <h2 class="center">Configurando SSH/GIT</h2>
            <ul>
                <li>
                    <h3>Observe que no comando ssh-keygen, são passados alguns parâmetros, entre eles:</h3>
                    <ul>
                        <li><h3>-t <em>Indica qual o tipo de criptografia utilizada.</em></h3></li>
                        <li><h3>-f <em>Indica o nome do arquivo que será criado.</em></h3></li>
                    </ul>
                </li>
            </ul>
        </section>


        <section class="slide">
            <h2 class="logo-plone-64">Plone</h2>
            <h2 class="center">Configurando SSH/GIT</h2>
            <h3>Cadastrar chave no Github</h3>
            <ul>
                <li>
                    <h3>Acesse as configurações do Github</h3>
                </li>
                <li>
                    <h3>No menu vertical do lado direito, acesse a opção "SSH Keys"</h3>
                </li>
                <li>
                    <h3>Abra o arquivo com a chave pública criada (<em>~/.ssh/id_rsa.pub</em>).</h3>
                </li>
                <li>
                    <h3>Clique em "Add SSH key"</h3>
                </li>
                <li>
                    <h3>Informe uma descrição para a chave adicionada no primeiro campo, e cole o conteúdo do arquivo <em>~/.ssh/id_rsa.pub</em> no segundo campo.</h3>
                </li>
            </ul>
        </section>


        <section class="slide">
            <h2 class="logo-plone-64">Plone</h2>
            <h2 class="center">Instalando Plone 4.2.x pelos buildouts do Python Packages</h2>
            <h3>Depois de toda essa configuração, finalmente vamos instalar Plone no nosso computador!</h3>
            <ul>
                <li class="slide">
                    <h3>Crie a pasta Plone:</h3>
                    <pre><code class="bash">$ mkdir Plone
$ cd Plone</code></pre>
                </li>
                <li class="slide">
                    <h3>Ative ambiente virtual</h3>
                    <pre><code class="bash">$ source ~/py26/bin/activate</code></pre>
                </li>
                <li class="slide">
                    <h3>Baixe o bootstrap.py</h3>
                    <pre><code class="bash">$ wget http://downloads.buildout.org/1/bootstrap.py</code></pre>
                </li>
                <li class="slide">
                    <h3>Baixe o buildout do Plone 4.2.x</h3>
                    <pre><code class="bash">$ wget https://raw.github.com/pythonpackages/buildout-plone/master/4.2.x
$ mv 4.2.x buildout.cfg</code></pre>
                </li>
            </ul>
        </section>


        <section class="slide">
            <h2 class="logo-plone-64">Plone</h2>
            <h2 class="center">Instalando Plone 4.2.x pelos buildouts do Python Packages</h2>
            <ul>
                <li class="slide">
                    <h3>Rode o bootstrap.py (utilizando a virtualenv)</h3>
                    <pre><code class="bash">$ python bootstrap.py</code></pre>
                </li>
                <li class="slide">
                    <h3>Rode o Buildout</h3>
                    <pre><code class="bash">$ ./bin/buildout</code></pre>
                </li>
                <li class="slide">
                    <h3>Inicie o Plone</h3>
                    <pre><code class="bash">$ ./bin/plone fg</code></pre>
                </li>
                <li class="slide">
                    <h3>Acesse o endereço: <a href="http://localhost:8080" target="_blank">http://localhost:8080</a></h3>
                </li>
            </ul>
        </section>


        <section class="slide">
            <h2 class="logo-plone-64">Plone</h2>
            <h2 class="center">Agora vamos aprender de um jeito mais fácil!</h2>
        </section>


        <section class="slide">
            <h2 class="logo-plone-64">Plone</h2>
            <h2 class="center">Utilizando Pythonbrew</h2>
            <h3>Pythonbrew é um gerenciador de versões do Python que serve para automatizar tanto o processo de compilação do Python, quanto o processo de criação de ambientes virtuais.</h3>
            <ul>
                <li class="slide">
                    <h3>Para instalar o Pythonbrew, siga as instruções do site: <a href="https://github.com/utahta/pythonbrew">https://github.com/utahta/pythonbrew</a></h3>
                </li>
                <li class="slide">
                    <h3>Mas nós ja temos ele instalado em nosso ambiente! Vamos executar os passos anteriores com Pythonbrew agora.</h3>
                </li>
            </ul>
        </section>


        <section class="slide">
            <h2 class="logo-plone-64">Plone</h2>
            <h2 class="center">Utilizando Pythonbrew</h2>
            <ul>
                <li class="slide">
                    <h3>Atualize o Pythonbrew</h3>
                    <pre><code class="bash">$ pythonbrew update</code></pre>
                </li>
                <li class="slide">
                    <h3>Compilando Python 2.6.6</h3>
                    <pre><code class="bash">$ pythonbrew install 2.6.6</code></pre>
                </li>
                <li class="slide">
                    <h3>Criando uma virtualenv</h3>
                    <pre><code class="bash">$ pythonbrew venv create -p 2.6.6 -n py26</code></pre>
                </li>
                <li class="slide">
                    <h3>Ativando virtualenv</h3>
                    <pre><code class="bash">$ pythonbrew venv use py26</code></pre>
                </li>
                <li class="slide">
                    <h3>Desativando virtualenv</h3>
                    <pre><code class="bash">$ deactivate</code></pre>
                </li>
            </ul>
        </section>


        <section class="slide">
            <h2 class="logo-plone-64">Plone</h2>
            <h2 class="center">Utilizando Utilizando templer</h2>
            <ul>
                <li class="slide">
                    <h3>Criando estrutura básica do Plone com Templer</h3>
                    <pre><code class="bash">$ templer plone_basic plone.basic

plone_basic: A package for Plone add-ons

This template creates a package for a basic Plone add-on project with
a single namespace (like Products.PloneFormGen).

To create a Plone project with a name like 'collective.geo.bundle'
(2 dots, a 'nested namespace'), use the 'plone_nested' template.

This template supports local commands.  These commands allow you to
add Plone features to your new package.

If you are trying to create a Plone *site* then the best place to
start is with one of the Plone installers.  If you want to build
your own Plone buildout, use one of the plone'N'_buildout templates


If at any point, you need additional help for a question, you can enter
'?' and press RETURN.

Expert Mode? (What question mode would you like? (easy/expert/all)?) ['easy']: 
Version (Version number for project) ['1.0']: 
Description (One-line description of the project) ['']: Meu primeiro site plone
Register Profile (Should this package register a GS Profile) [False]: 
Robot Tests (Should the default robot test be included) [False]:</code></pre>
                </li>
            </ul>
        </section>


        <section class="slide">
            <h2 class="logo-plone-64">Plone</h2>
            <h2 class="center">Instalando Plone 4</h2>
            <ul>
                <li class="slide">
                    <h3>Entre na pasta criada</h3>
                    <pre><code class="bash">$ cd plone.basic</code></pre>
                </li>
                <li class="slide">
                    <h3>Rode o bootstrap.py (utilizando a virtualenv)</h3>
                    <pre><code class="bash">$ python bootstrap.py</code></pre>
                </li>
                <li class="slide">
                    <h3>Rode o Buildout</h3>
                    <pre><code class="bash">$ ./bin/buildout</code></pre>
                </li>
                <li class="slide">
                    <h3>Inicie o Plone</h3>
                    <pre><code class="bash">$ ./bin/instance fg</code></pre>
                </li>
                <li class="slide">
                    <h3>Acesse o endereço: <a href="http://localhost:8080" target="_blank">http://localhost:8080</a></h3>
                </li>
            </ul>
        </section>


        <section class="slide">
            <h2 class="logo-plone-64">Plone</h2>
            <h2 class="center">Quetal testar o plone site base dos sites governamentais?</h2>
            <ul>
                <li class="slide">
                    <h3>Baixe o portal.buildout</h3>
                    <pre><code class="bash">$ git clone https://github.com/plonegovbr/portal.buildout.git</code></pre>
                </li>
                <li class="slide">
                    <h3>Entre na pasta criada</h3>
                    <pre><code class="bash">$ cd portal.buildout</code></pre>
                </li>
                <li class="slide">
                    <h3>Aponte seu buildout para desenvolvimento</h3>
                    <pre><code class="bash">$ ln -sf development.cfg buildout.cfg</code></pre>
                </li>
            </ul>
        </section>


        <section class="slide">
            <h2 class="logo-plone-64">Plone</h2>
            <h2 class="center">Quetal testar o plone site base dos sites governamentais?</h2>
            <ul>
                <li class="slide">
                    <h3>Crie uma virtualenv para o portal</h3>
                    <pre><code class="bash">$ pythonbrew venv create -n -p 2.7.3 portal.buildout
$ pythonbrew venv use portal.buildout</code></pre>
                </li>
                <li class="slide">
                    <h3>Os demais passos são os mesmos</h3>
                    <pre><code class="bash">$ python bootstrap.py
$ ./bin/buildout
$ ./bin/instance fg</code></pre>
                </li>
                <li class="slide">
                    <h3>Acesse o endereço: <a href="http://localhost:8080" target="_blank">http://localhost:8080</a></h3>
                </li>
            </ul>
        </section>


        <section class="slide">
            <h2 class="logo-plone-64">Plone</h2>
            <h2 class="center">Dúvidas? Críticas? Sugestões?</h2>
        </section>


        <!-- End slides. -->


        <p class="deck-status">
            <span class="deck-status-current"></span>
            /
            <span class="deck-status-total"></span>
        </p>

        <!-- deck.goto snippet -->
        <form action="." method="get" class="goto-form">
            <label for="goto-slide">Go to slide:</label>
            <input type="text" name="slidenum" id="goto-slide" list="goto-datalist">
            <datalist id="goto-datalist"></datalist>
            <input type="submit" value="Go">
        </form>

        <!-- deck.hash snippet -->
        <a href="." title="Permalink to this slide" class="deck-permalink">#</a>


        <!-- Required Modernizr file -->
        <script src="modernizr.custom.js"></script>

        <!-- Required JS files. -->
        <script src="jquery-1.7.2.min.js"></script>
        <script src="core/deck.core.js"></script>

        <!-- Extension JS files. Add or remove as needed. -->
        <script src="extensions/hash/deck.hash.js"></script>
        <script src="extensions/menu/deck.menu.js"></script>
        <script src="extensions/goto/deck.goto.js"></script>
        <script src="extensions/status/deck.status.js"></script>
        <script src="extensions/navigation/deck.navigation.js"></script>
        <script src="extensions/scale/deck.scale.js"></script>

        <!-- Initialize the deck. You can put this in an external file if desired. -->
        <script>
            $(function() {
            $.deck('.slide');
            });
        </script>

        <!-- controldeck.js -->
        <script src="/socket.io/socket.io.js"></script>
        <script src="/controldeck-slides.js"></script>

        <!-- Highlight.js -->
        <script src="/js/highlight.pack.js"></script>
        <script>hljs.initHighlightingOnLoad();</script>
    </body>
</html>
